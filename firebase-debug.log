[debug] [2019-11-25T22:46:10.692Z] ----------------------------------------------------------------------
[debug] [2019-11-25T22:46:10.694Z] Command:       /usr/local/bin/node /usr/local/bin/firebase serve
[debug] [2019-11-25T22:46:10.694Z] CLI Version:   7.7.0
[debug] [2019-11-25T22:46:10.694Z] Platform:      darwin
[debug] [2019-11-25T22:46:10.694Z] Node Version:  v12.12.0
[debug] [2019-11-25T22:46:10.700Z] Time:          Tue Nov 26 2019 04:16:10 GMT+0530 (India Standard Time)
[debug] [2019-11-25T22:46:10.700Z] ----------------------------------------------------------------------
[debug] [2019-11-25T22:46:10.700Z] 
[debug] [2019-11-25T22:46:10.708Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-11-25T22:46:10.708Z] > authorizing via signed-in user
[debug] [2019-11-25T22:46:10.708Z] [iam] checking project socialape-d8699 for permissions ["firebase.projects.get"]
[debug] [2019-11-25T22:46:10.710Z] > refreshing access token with scopes: ["email","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","openid"]
[debug] [2019-11-25T22:46:10.710Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2019-11-25T22:46:11.002Z] <<< HTTP RESPONSE 200
[debug] [2019-11-25T22:46:11.020Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/socialape-d8699:testIamPermissions  

[debug] [2019-11-25T22:46:12.533Z] <<< HTTP RESPONSE 200
[debug] [2019-11-25T22:46:12.534Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/socialape-d8699  
 
[debug] [2019-11-25T22:46:13.044Z] <<< HTTP RESPONSE 200
[info] 
[info] === Serving from '/Users/swetabjahazra/Desktop/AAAAps/socialape-backend'...
[info] 
[warn] ⚠  Your requested "node" version "8" doesn't match your global version "12"
[info] ✔  functions: Emulator started at http://localhost:5000
[info] i  functions: Watching "/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions" for Cloud Functions...
[debug] [2019-11-25T22:46:13.330Z] [worker-~diagnostic~-cb378435-30db-46ae-ada3-759d3b5c9a3f]: BUSY
[debug] [2019-11-25T22:46:13.532Z] [runtime-status] Functions runtime initialized. {"cwd":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions","node_version":"12.12.0"}
[debug] [2019-11-25T22:46:13.533Z] [runtime-status] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true} {}
[debug] [2019-11-25T22:46:13.537Z] [runtime-status] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.7.0","resolution":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2019-11-25T22:46:13.539Z] [runtime-status] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2019-11-25T22:46:13.540Z] [runtime-status] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-functions/lib/index.js"}
[info] ✔  functions[api]: http function initialized (http://localhost:5000/socialape-d8699/us-central1/api).
[debug] [2019-11-25T22:46:14.106Z] [worker-~diagnostic~-cb378435-30db-46ae-ada3-759d3b5c9a3f]: exited
[debug] [2019-11-25T22:46:14.106Z] [worker-~diagnostic~-cb378435-30db-46ae-ada3-759d3b5c9a3f]: FINISHED
[debug] [2019-11-25T22:49:38.915Z] Accepted request POST /socialape-d8699/us-central1/api/user --> api
[debug] [2019-11-25T22:49:38.923Z] [worker-api-4b771ccc-eeb5-4fc9-b7e5-41418bb8af6d]: BUSY
[debug] [2019-11-25T22:49:39.237Z] [runtime-status] Functions runtime initialized. {"cwd":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions","node_version":"12.12.0"}
[debug] [2019-11-25T22:49:39.239Z] [runtime-status] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true} {}
[debug] [2019-11-25T22:49:39.241Z] [runtime-status] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.7.0","resolution":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2019-11-25T22:49:39.242Z] [runtime-status] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2019-11-25T22:49:39.243Z] [runtime-status] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2019-11-25T22:49:39.675Z] [runtime-status] Trigger "api" has been found, beginning invocation! {}
[info] i  functions: Beginning execution of "api"
[debug] [2019-11-25T22:49:39.676Z] [runtime-status]  {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2019-11-25T22:49:39.676Z] [runtime-status] Running api in mode HTTPS {}
[debug] [2019-11-25T22:49:39.681Z] {"socketPath":"/var/folders/5r/m4gt2p_15zz_bh_mb537lq0r0000gn/T/firebase_emulator_invocation_4410.sock"}
[debug] [2019-11-25T22:49:39.683Z] [functions] Runtime ready! Sending request! {"socketPath":"/var/folders/5r/m4gt2p_15zz_bh_mb537lq0r0000gn/T/firebase_emulator_invocation_4410.sock"}
[debug] [2019-11-25T22:49:39.701Z] [runtime-status] Ephemeral server used! {}
[debug] [2019-11-25T22:49:39.750Z] [runtime-status] Ephemeral server survived. {}
[info] >  Error while verifying token  FirebaseAuthError: Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.
[info] >      at FirebaseAuthError.FirebaseError [as constructor] (/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-admin/lib/utils/error.js:42:28)
[info] >      at FirebaseAuthError.PrefixedFirebaseError [as constructor] (/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-admin/lib/utils/error.js:88:28)
[info] >      at new FirebaseAuthError (/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-admin/lib/utils/error.js:147:16)
[info] >      at /Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:191:39
[info] >      at Object.module.exports [as verify] (/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/jsonwebtoken/verify.js:126:14)
[info] >      at /Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:183:17
[info] >      at new Promise (<anonymous>)
[info] >      at FirebaseTokenVerifier.verifyJwtSignatureWithKey (/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:182:16)
[info] >      at /Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-admin/lib/auth/token-verifier.js:167:30
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {
[info] >    errorInfo: {
[info] >      code: 'auth/id-token-expired',
[info] >      message: 'Firebase ID token has expired. Get a fresh ID token from your client app and try again (auth/id-token-expired). See https://firebase.google.com/docs/auth/admin/verify-id-tokens for details on how to retrieve an ID token.'
[info] >    },
[info] >    codePrefix: 'auth'
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2019-11-25T22:49:39.948Z] [worker-api-4b771ccc-eeb5-4fc9-b7e5-41418bb8af6d]: IDLE
[debug] [2019-11-25T22:50:18.816Z] Accepted request POST /socialape-d8699/us-central1/api/login --> api
[debug] [2019-11-25T22:50:18.816Z] [worker-api-4b771ccc-eeb5-4fc9-b7e5-41418bb8af6d]: BUSY
[debug] [2019-11-25T22:50:18.817Z] [runtime-status] Trigger "api" has been found, beginning invocation! {}
[info] i  functions: Beginning execution of "api"
[debug] [2019-11-25T22:50:18.817Z] [runtime-status]  {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2019-11-25T22:50:18.817Z] [runtime-status] Running api in mode HTTPS {}
[debug] [2019-11-25T22:50:18.818Z] {"socketPath":"/var/folders/5r/m4gt2p_15zz_bh_mb537lq0r0000gn/T/firebase_emulator_invocation_4410.sock"}
[debug] [2019-11-25T22:50:18.820Z] [functions] Runtime ready! Sending request! {"socketPath":"/var/folders/5r/m4gt2p_15zz_bh_mb537lq0r0000gn/T/firebase_emulator_invocation_4410.sock"}
[debug] [2019-11-25T22:50:18.825Z] [runtime-status] Ephemeral server used! {}
[debug] [2019-11-25T22:50:18.833Z] [runtime-status] Ephemeral server survived. {}
[info] i  functions: Finished "api" in ~1s
[debug] [2019-11-25T22:50:20.040Z] [worker-api-4b771ccc-eeb5-4fc9-b7e5-41418bb8af6d]: IDLE
[debug] [2019-11-25T22:50:50.692Z] Accepted request POST /socialape-d8699/us-central1/api/user --> api
[debug] [2019-11-25T22:50:50.692Z] [worker-api-4b771ccc-eeb5-4fc9-b7e5-41418bb8af6d]: BUSY
[debug] [2019-11-25T22:50:50.693Z] [runtime-status] Trigger "api" has been found, beginning invocation! {}
[info] i  functions: Beginning execution of "api"
[debug] [2019-11-25T22:50:50.693Z] [runtime-status]  {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2019-11-25T22:50:50.693Z] [runtime-status] Running api in mode HTTPS {}
[debug] [2019-11-25T22:50:50.695Z] {"socketPath":"/var/folders/5r/m4gt2p_15zz_bh_mb537lq0r0000gn/T/firebase_emulator_invocation_4410.sock"}
[debug] [2019-11-25T22:50:50.696Z] [functions] Runtime ready! Sending request! {"socketPath":"/var/folders/5r/m4gt2p_15zz_bh_mb537lq0r0000gn/T/firebase_emulator_invocation_4410.sock"}
[debug] [2019-11-25T22:50:50.699Z] [runtime-status] Ephemeral server used! {}
[debug] [2019-11-25T22:50:50.700Z] [runtime-status] Ephemeral server survived. {}
[info] >  decodedToken {
[info] >    iss: 'https://securetoken.google.com/socialape-d8699',
[info] >    aud: 'socialape-d8699',
[info] >    auth_time: 1574722219,
[info] >    user_id: 'qElGBl1t0uRXfLnhEzqJyL4wdHI3',
[info] >    sub: 'qElGBl1t0uRXfLnhEzqJyL4wdHI3',
[info] >    iat: 1574722219,
[info] >    exp: 1574725819,
[info] >    email: '13stabjahazra@gmail.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'qElGBl1t0uRXfLnhEzqJyL4wdHI3'
[info] >  }
[info] >  TypeError: Cannot read property 'trim' of undefined
[info] >      at exports.reduceUserDetails (/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/util/validators.js:49:24)
[info] >      at exports.addUserDetails (/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/handlers/users.js:104:21)
[info] >      at Layer.handle [as handle_request] (/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/express/lib/router/layer.js:95:5)
[info] >      at next (/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/express/lib/router/route.js:137:13)
[info] >      at /Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/util/fbAuth.js:24:14
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5)
[info] i  functions: Finished "api" in ~1s
[debug] [2019-11-25T22:50:52.213Z] [worker-api-4b771ccc-eeb5-4fc9-b7e5-41418bb8af6d]: IDLE
[debug] [2019-11-25T22:52:55.989Z] Accepted request POST /socialape-d8699/us-central1/api/user --> api
[debug] [2019-11-25T22:52:55.989Z] [worker-api-4b771ccc-eeb5-4fc9-b7e5-41418bb8af6d]: BUSY
[debug] [2019-11-25T22:52:55.990Z] [runtime-status] Trigger "api" has been found, beginning invocation! {}
[info] i  functions: Beginning execution of "api"
[debug] [2019-11-25T22:52:55.990Z] [runtime-status]  {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2019-11-25T22:52:55.990Z] [runtime-status] Running api in mode HTTPS {}
[debug] [2019-11-25T22:52:55.991Z] {"socketPath":"/var/folders/5r/m4gt2p_15zz_bh_mb537lq0r0000gn/T/firebase_emulator_invocation_4410.sock"}
[debug] [2019-11-25T22:52:55.992Z] [functions] Runtime ready! Sending request! {"socketPath":"/var/folders/5r/m4gt2p_15zz_bh_mb537lq0r0000gn/T/firebase_emulator_invocation_4410.sock"}
[debug] [2019-11-25T22:52:55.995Z] [runtime-status] Ephemeral server used! {}
[debug] [2019-11-25T22:52:55.995Z] [runtime-status] Ephemeral server survived. {}
[info] >  decodedToken {
[info] >    iss: 'https://securetoken.google.com/socialape-d8699',
[info] >    aud: 'socialape-d8699',
[info] >    auth_time: 1574722219,
[info] >    user_id: 'qElGBl1t0uRXfLnhEzqJyL4wdHI3',
[info] >    sub: 'qElGBl1t0uRXfLnhEzqJyL4wdHI3',
[info] >    iat: 1574722219,
[info] >    exp: 1574725819,
[info] >    email: '13stabjahazra@gmail.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'qElGBl1t0uRXfLnhEzqJyL4wdHI3'
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2019-11-25T22:52:56.615Z] [worker-api-4b771ccc-eeb5-4fc9-b7e5-41418bb8af6d]: IDLE
[debug] [2019-11-25T23:19:59.808Z] File /Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/handlers/users.js changed, reloading triggers
[debug] [2019-11-25T23:19:59.808Z] File /Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/index.js changed, reloading triggers
[debug] [2019-11-25T23:20:00.814Z] [worker-pool]: Shutting down IDLE worker (api)
[debug] [2019-11-25T23:20:00.825Z] [worker-~diagnostic~-bf3173f0-1bf9-4811-9900-d39a7805ef81]: BUSY
[debug] [2019-11-25T23:20:00.826Z] [worker-api-4b771ccc-eeb5-4fc9-b7e5-41418bb8af6d]: exited
[debug] [2019-11-25T23:20:00.827Z] [worker-api-4b771ccc-eeb5-4fc9-b7e5-41418bb8af6d]: FINISHED
[debug] [2019-11-25T23:20:01.245Z] [runtime-status] Functions runtime initialized. {"cwd":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions","node_version":"12.12.0"}
[debug] [2019-11-25T23:20:01.247Z] [runtime-status] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true} {}
[debug] [2019-11-25T23:20:01.250Z] [runtime-status] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.7.0","resolution":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2019-11-25T23:20:01.251Z] [runtime-status] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2019-11-25T23:20:01.252Z] [runtime-status] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2019-11-25T23:20:01.808Z] [worker-~diagnostic~-bf3173f0-1bf9-4811-9900-d39a7805ef81]: exited
[debug] [2019-11-25T23:20:01.808Z] [worker-~diagnostic~-bf3173f0-1bf9-4811-9900-d39a7805ef81]: FINISHED
[debug] [2019-11-25T23:21:17.848Z] Accepted request POST /socialape-d8699/us-central1/api/login --> api
[debug] [2019-11-25T23:21:17.854Z] [worker-api-101d6b65-a175-41ed-854c-28c87ec13d16]: BUSY
[debug] [2019-11-25T23:21:18.105Z] [runtime-status] Functions runtime initialized. {"cwd":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions","node_version":"12.12.0"}
[debug] [2019-11-25T23:21:18.106Z] [runtime-status] Disabled runtime features: {"functions_config_helper":true,"network_filtering":true,"timeout":true,"memory_limiting":true,"admin_stubs":true} {}
[debug] [2019-11-25T23:21:18.108Z] [runtime-status] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.7.0","resolution":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-admin/lib/index.js"}
[debug] [2019-11-25T23:21:18.109Z] [runtime-status] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2019-11-25T23:21:18.110Z] [runtime-status] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.3.0","resolution":"/Users/swetabjahazra/Desktop/AAAAps/socialape-backend/functions/node_modules/firebase-functions/lib/index.js"}
[debug] [2019-11-25T23:21:18.427Z] [runtime-status] Trigger "api" has been found, beginning invocation! {}
[info] i  functions: Beginning execution of "api"
[debug] [2019-11-25T23:21:18.428Z] [runtime-status]  {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2019-11-25T23:21:18.428Z] [runtime-status] Running api in mode HTTPS {}
[debug] [2019-11-25T23:21:18.433Z] {"socketPath":"/var/folders/5r/m4gt2p_15zz_bh_mb537lq0r0000gn/T/firebase_emulator_invocation_4473.sock"}
[debug] [2019-11-25T23:21:18.434Z] [functions] Runtime ready! Sending request! {"socketPath":"/var/folders/5r/m4gt2p_15zz_bh_mb537lq0r0000gn/T/firebase_emulator_invocation_4473.sock"}
[debug] [2019-11-25T23:21:18.457Z] [runtime-status] Ephemeral server used! {}
[debug] [2019-11-25T23:21:18.485Z] [runtime-status] Ephemeral server survived. {}
[info] i  functions: Finished "api" in ~1s
[debug] [2019-11-25T23:21:19.645Z] [worker-api-101d6b65-a175-41ed-854c-28c87ec13d16]: IDLE
[debug] [2019-11-25T23:21:44.068Z] Accepted request GET /socialape-d8699/us-central1/api/user --> api
[debug] [2019-11-25T23:21:44.068Z] [worker-api-101d6b65-a175-41ed-854c-28c87ec13d16]: BUSY
[debug] [2019-11-25T23:21:44.068Z] [runtime-status] Trigger "api" has been found, beginning invocation! {}
[info] i  functions: Beginning execution of "api"
[debug] [2019-11-25T23:21:44.069Z] [runtime-status]  {"httpsTrigger":{},"name":"api","entryPoint":"api"}
[debug] [2019-11-25T23:21:44.069Z] [runtime-status] Running api in mode HTTPS {}
[debug] [2019-11-25T23:21:44.070Z] {"socketPath":"/var/folders/5r/m4gt2p_15zz_bh_mb537lq0r0000gn/T/firebase_emulator_invocation_4473.sock"}
[debug] [2019-11-25T23:21:44.070Z] [functions] Runtime ready! Sending request! {"socketPath":"/var/folders/5r/m4gt2p_15zz_bh_mb537lq0r0000gn/T/firebase_emulator_invocation_4473.sock"}
[debug] [2019-11-25T23:21:44.073Z] [runtime-status] Ephemeral server used! {}
[debug] [2019-11-25T23:21:44.116Z] [runtime-status] Ephemeral server survived. {}
[info] >  decodedToken {
[info] >    iss: 'https://securetoken.google.com/socialape-d8699',
[info] >    aud: 'socialape-d8699',
[info] >    auth_time: 1574724078,
[info] >    user_id: 'qElGBl1t0uRXfLnhEzqJyL4wdHI3',
[info] >    sub: 'qElGBl1t0uRXfLnhEzqJyL4wdHI3',
[info] >    iat: 1574724078,
[info] >    exp: 1574727678,
[info] >    email: '13stabjahazra@gmail.com',
[info] >    email_verified: false,
[info] >    firebase: { identities: { email: [Array] }, sign_in_provider: 'password' },
[info] >    uid: 'qElGBl1t0uRXfLnhEzqJyL4wdHI3'
[info] >  }
[info] i  functions: Finished "api" in ~1s
[debug] [2019-11-25T23:21:45.953Z] [worker-api-101d6b65-a175-41ed-854c-28c87ec13d16]: IDLE
